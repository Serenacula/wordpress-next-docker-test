{"version":3,"file":"index.js","mappings":"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","sources":["webpack://booplugin/./src/block/edit.jsx","webpack://booplugin/./src/block/image.jsx","webpack://booplugin/external window [\"wp\",\"element\"]","webpack://booplugin/webpack/bootstrap","webpack://booplugin/webpack/runtime/compat get default export","webpack://booplugin/webpack/runtime/define property getters","webpack://booplugin/webpack/runtime/hasOwnProperty shorthand","webpack://booplugin/webpack/runtime/make namespace object","webpack://booplugin/./src/block/index.jsx"],"sourcesContent":["const { InspectorControls, MediaUpload, MediaUploadCheck } = wp.blockEditor\nconst { PanelBody, Button, ResponsiveWrapper } = wp.components\n\nexport default function Edit(wrapperProps) {\n    const props = wrapperProps.props\n    const { attributes, setAttributes } = props\n\n    const removeMedia = () => {\n        setAttributes({\n            mediaId: 0,\n            mediaUrl: \"\",\n        })\n    }\n\n    const onSelectMedia = (media) => {\n        setAttributes({\n            mediaId: media.id,\n            mediaUrl: media.url,\n        })\n    }\n\n    const blockStyle = {\n        width: \"100%\",\n        height: \"400px\",\n    }\n\n    return (\n        <>\n            {/* InspectorControls is what renders in the sidebar */}\n            <InspectorControls>\n                {/* PanelBody makes the sidebar thing collapsible */}\n                <PanelBody title={\"Select the image\"} initialOpen={true}>\n                    <div className=\"editor-post-featured-image\">\n                        {/* Wrapper to check if user has access to library */}\n                        <MediaUploadCheck>\n                            {/* Media upload panel */}\n                            <MediaUpload\n                                onSelect={onSelectMedia}\n                                value={attributes.mediaId}\n                                // Only allow images when selecting media\n                                allowedTypes={[\"image\"]}\n                                // How to actually render this component\n                                render={({ open }) => (\n                                    <Button\n                                        className={\n                                            attributes.mediaId == 0\n                                                ? \"editor-post-featured-image__toggle\"\n                                                : \"editor-post-featured-image__preview\"\n                                        }\n                                        onClick={open}\n                                    >\n                                        {attributes.mediaId == 0 &&\n                                            \"Choose an image\"}\n                                        {props.media != undefined && (\n                                            <ResponsiveWrapper\n                                                naturalWidth={\n                                                    props.media.media_details\n                                                        .width\n                                                }\n                                                naturalHeight={\n                                                    props.media.media_details\n                                                        .height\n                                                }\n                                            >\n                                                <img\n                                                    src={props.media.source_url}\n                                                />\n                                            </ResponsiveWrapper>\n                                        )}\n                                    </Button>\n                                )}\n                            />\n                        </MediaUploadCheck>\n                        {/* This is a button that replaces the image you choose */}\n                        {attributes.mediaId != 0 && (\n                            <MediaUploadCheck>\n                                <MediaUpload\n                                    title={\"Replace image\"}\n                                    value={attributes.mediaId}\n                                    onSelect={onSelectMedia}\n                                    allowedTypes={[\"image\"]}\n                                    render={({ open }) => (\n                                        <Button\n                                            onClick={open}\n                                            isDefault\n                                            isLarge\n                                        >\n                                            {\"Replace image\"}\n                                        </Button>\n                                    )}\n                                />\n                            </MediaUploadCheck>\n                        )}\n                        {/* This is a button that removes the current image */}\n                        {attributes.mediaId != 0 && (\n                            <MediaUploadCheck>\n                                <Button\n                                    onClick={removeMedia}\n                                    isLink\n                                    isDestructive\n                                >\n                                    {\"Remove image\"}\n                                </Button>\n                            </MediaUploadCheck>\n                        )}\n                    </div>\n                </PanelBody>\n            </InspectorControls>\n            {/* <>\n                <p>react block</p>\n                <img\n                    className=\"save image\"\n                    src={attributes.mediaUrl != \"\" ? attributes.mediaUrl : \"\"}\n                    alt=\"\"\n                    style={blockStyle}\n                />\n            </> */}\n        </>\n    )\n}\n","export default function Image(wrapperProps) {\n    const props = wrapperProps.props\n    console.log(props)\n    const blockStyle = {\n        width: \"100%\",\n        height: \"400px\",\n    }\n    return (\n        <img\n            className=\"save image\"\n            src={\n                props.attributes.mediaUrl != \"\" ? props.attributes.mediaUrl : \"\"\n            }\n            alt=\"\"\n            style={blockStyle}\n        />\n    )\n}\n","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import Edit from \"./edit\"\nimport Image from \"./image\"\n\n/**\n * Okay so, I THINK what happens is that when we select an image in the editor with onSelectMedia, withSelect automatically\n * updates the media prop to the new image.\n */\n\nconsole.log(\"running index.js\")\n\n// Wrapper's job is basically just to bundle the Image and Edit panel, since we can only pass a single react component to withSelect.\n// Unfortunately this means we end up with an awkward props.props, but I don't really see a way to stop that unless we wanna\n// pass all the props individually.\nfunction Wrapper(props) {\n    return (\n        <>\n            <Image props={props} />\n            <Edit props={props} />\n        </>\n    )\n}\n\n// Register the block\nwp.blocks.registerBlockType(\"faylee/test-block\", {\n    title: \"Faylee's test block\",\n    icon: \"hammer\",\n    description: \"describing the test block\",\n    category: \"text\",\n    // Okay, so this function basically just has 1 job, which is to convert the mediaId into the media property.\n    // The media property is then added to the props of Wrapper, which is called.\n    edit: wp.data.withSelect((select, props) => {\n        return {\n            // IF there is a media target, GET the media from the database and call it media.\n            media: props.attributes?.mediaId\n                ? select(\"core\").getMedia(props.attributes.mediaId)\n                : undefined,\n        }\n    })(Wrapper),\n    save: (props) => {\n        // Okay, this function receives the attributes below and passes them to Image\n        return <Image props={props} />\n    },\n    attributes: {\n        mediaId: {\n            type: \"number\",\n            default: 0,\n        },\n        mediaUrl: {\n            type: \"string\",\n            default: \"\",\n        },\n    },\n})\n"],"names":["InspectorControls","MediaUpload","MediaUploadCheck","wp","blockEditor","PanelBody","Button","ResponsiveWrapper","components","Edit","wrapperProps","props","attributes","setAttributes","removeMedia","mediaId","mediaUrl","onSelectMedia","media","id","url","blockStyle","width","height","open","undefined","media_details","source_url","Image","console","log","Wrapper","blocks","registerBlockType","title","icon","description","category","edit","data","withSelect","select","getMedia","save","type","default"],"sourceRoot":""}